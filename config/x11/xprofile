#!/bin/sh

# the notification daemon.
dunst &
# Enable compositing.
picom -b

# UDisks front-end for automounting removable media.
udiskie -ans &
# music player daemon
mpd &

# unclutter hides the mouse curser after timeout
unclutter --timeout 5 --ignore-scrolling &

# NetworkManager Tray Icon
nm-applet &

# KDE Connect
/usr/lib/kdeconnectd &
kdeconnect-cli -l
kdeconnect-indicator &

# Launch web browser
brave &
# Launch music player
cantata &
# Launch telegram
# needs a second to show systray icon
{ sleep 1; telegram-desktop & } &

# polybar
# needs a second to be ready and read the window title correctly
{
    sleep 1
    polybar bottom_dwm &
    polybar top_bar &
} &

# start background slideshow
{
    while true;
    do
        setbg
        sleep 600
    done
} &
